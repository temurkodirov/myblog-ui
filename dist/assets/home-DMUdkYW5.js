import{g as _,r as p,o,c,a as t,F as h,h as u,e as m,b as i,w as n,t as l,i as P,d as g,p as I,f as k}from"./index-BxNye9P6.js";import{C,P as D,a as z,t as B}from"./carouselCardDesign-BY-aaCbG.js";import{f as S}from"./formateDate-BvL5N5Zm.js";import{i as L}from"./imagePathfixer-CcxXgNhq.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N="/assets/man-with-laptop-light-BGOFztvR.png",j={name:"home",components:{CarouselCardDesign:C,PostSkeleton:D,PostCarousel:z},data(){return{metaData:{currentPage:1,totalPages:1,pageSize:4,totalCount:0,order:"desc",hasPrevious:!1,hasNext:!1},params:{SearchText:null,CategoryId:null,UserId:null,PageNumber:1,PageSize:4,Order:null},postImages:["@/assets/img/elements/18.jpg","@/assets/img/elements/18.jpg"],posts:[],categories:[],categoryLoaded:!1,postsLoaded:!1,post1:{id:0,title:"",content:"",userId:0,categoryId:0,images:[],updatedAt:"",createdAt:""},post2:{id:0,title:"",content:"",userId:0,categoryId:0,images:[],updatedAt:"",createdAt:""},post3:{id:0,title:"",content:"",userId:0,categoryId:0,images:[],updatedAt:"",createdAt:""},isBannerPostsLoaded:!1}},methods:{imagePathfixer:L,formatDate:S,textCutter:B,async fetchBannerPosts(){try{let e=await _.get("post/get/17");e.status===200&&(this.post1=e.data);let b=await _.get("post/get/24");e.status===200&&(this.post2=b.data);let f=await _.get("post/get/20");e.status===200&&(this.post3=f.data),this.isBannerPostsLoaded=!0}catch(e){console.error(e.message)}},async fetchPosts(){try{let e=await _.get("post/get-all?PageSize=6");e.status===200&&(this.posts=e.data.items,this.metaData={...e.data.metaData},this.params.PageNumber=this.metaData.currentPage,this.postsLoaded=!0)}catch(e){console.log(e.message)}},async fetchCategory(){try{let e=await _.get("category/get-all?PageSize=50");e.status===200&&(this.categories=e.data.items,this.categoryLoaded=!0)}catch(e){console.error(e.message)}}},async mounted(){this.lokalUser=await JSON.parse(localStorage.getItem("lokalUser")),await this.fetchBannerPosts(),await this.fetchPosts(),await this.fetchCategory()}},V=e=>(I("data-v-ac6b1ac4"),e=e(),k(),e),q={class:"content-wrapper"},U={class:"container-xxl flex-grow-1 container-p-y"},F={class:"row"},O={key:0,class:"col-lg-9 mb-3 mx-auto d-flex justify-content-center flex-wrap gap-3"},T={class:"card p-2"},E={class:"btn fw-semibold text-gray"},G=P('<div class="row" data-v-ac6b1ac4><div class="d-flex justify-content-center" data-v-ac6b1ac4><div class="col-lg-8 mb-3" data-v-ac6b1ac4><div class="card" data-v-ac6b1ac4><div class="d-flex align-items-end row" data-v-ac6b1ac4><div class="col-sm-7" data-v-ac6b1ac4><div class="card-body" data-v-ac6b1ac4><h4 class="card-title text-primary" data-v-ac6b1ac4>&quot;MyBlog.uz&quot;ga Hush kelibsiz ðŸŽ‰</h4><p class="mb-3" data-v-ac6b1ac4> Bloglar sizlarga manzur keladi degan umiddamiz! Siz ham ro&#39;yhatdan o&#39;tib o&#39;z blogingizni yuritish imkoniyatingiz bor </p></div></div><div class="col-sm-5 text-center text-sm-left" data-v-ac6b1ac4><div class="card-body pb-0 px-0 px-md-4" data-v-ac6b1ac4><img src="'+N+'" height="140" alt="View Badge User" data-app-dark-img="illustrations/man-with-laptop-dark.png" data-app-light-img="illustrations/man-with-laptop-light.png" data-v-ac6b1ac4></div></div></div></div></div></div></div>',1),H={class:"row"},J={class:"d-flex justify-content-center"},M={key:0,class:"col-lg-5"},R={class:"card bg-dark border-0 text-white"},K=["src"],Q={class:"card-img-overlay"},W={class:"card-title"},X={class:"card-text"},Y={class:"card-text"},Z={class:"col-lg-4"},$={key:0,class:"row g-0"},tt={class:"col-md-8"},st={class:"card-body"},et={class:"card-title"},at={class:"card-text"},ot={class:"card-text"},ct={class:"text-muted"},it={class:"col-md-4"},lt=["src"],dt={key:1,class:"row g-0"},rt={class:"col-md-8"},nt={class:"card-body"},gt={class:"card-title"},mt={class:"card-text"},_t={class:"card-text"},ht={class:"text-muted"},ut={class:"col-md-4"},pt=["src"],bt={class:"row d-flex justify-content-center"},ft={class:"col-lg-10 mt-4"},vt={key:0,class:"row mb-5 m-auto"},xt={class:"col-sm-12 col-md-6 col-lg-4 mb-4"},yt={key:1,class:"row mb-5 m-auto"},wt={class:"card"},Pt={class:"d-flex justify-content-center pt-3 px-3"},It={class:"card-body"},kt={class:"card-title mb-0"},Ct={key:0,class:"badge bg-label-dark my-1"},Dt={class:"card-text text-dark"},zt={class:"d-flex mt-2 align-items-center justify-content-between"},Bt=V(()=>t("i",{class:"bx bx-calendar"},null,-1));function St(e,b,f,Lt,s,a){const d=p("router-link"),x=p("post-skeleton"),y=p("carousel-card-design");return o(),c("div",q,[t("div",U,[t("div",F,[s.categoryLoaded?(o(),c("div",O,[(o(!0),c(h,null,u(s.categories,r=>(o(),c("div",T,[t("button",E,[i(d,{to:{path:"/blogs",query:{CategoryId:r.id}}},{default:n(()=>[g(l(r.name),1)]),_:2},1032,["to"])])]))),256))])):m("",!0)]),G,t("div",H,[t("div",J,[s.isBannerPostsLoaded?(o(),c("div",M,[t("div",R,[t("img",{class:"card-img banner-img",src:a.imagePathfixer(s.post1.images[0].imagePath),alt:"Card image"},null,8,K),t("div",Q,[t("h5",W,[i(d,{to:{name:"blogDetails",params:{blogId:s.post1.id}},class:"text-white"},{default:n(()=>[g(l(a.textCutter(s.post1.title,60)),1)]),_:1},8,["to"])]),t("p",X,[i(d,{to:{name:"blogDetails",params:{blogId:s.post1.id}},class:"text-white"},{default:n(()=>[g(l(a.textCutter(s.post1.content,150)),1)]),_:1},8,["to"])]),t("p",Y,l(a.formatDate(s.post1.createdAt)),1)])])])):m("",!0),t("div",Z,[s.isBannerPostsLoaded?(o(),c("div",$,[t("div",tt,[t("div",st,[t("h5",et,[i(d,{to:{name:"blogDetails",params:{blogId:s.post2.id}},class:"text-gray"},{default:n(()=>[g(l(a.textCutter(s.post2.title,30)),1)]),_:1},8,["to"])]),t("p",at,[i(d,{to:{name:"blogDetails",params:{blogId:s.post2.id}},class:"text-gray"},{default:n(()=>[g(l(a.textCutter(s.post2.content,110)),1)]),_:1},8,["to"])]),t("p",ot,[t("small",ct,l(a.formatDate(s.post2.createdAt)),1)])])]),t("div",it,[i(d,{to:{name:"blogDetails",params:{blogId:s.post2.id}},class:"text-gray"},{default:n(()=>[t("img",{class:"card-img card-img-right banner-img-right",src:a.imagePathfixer(s.post2.images[0].imagePath),alt:"Card image"},null,8,lt)]),_:1},8,["to"])])])):m("",!0),s.isBannerPostsLoaded?(o(),c("div",dt,[t("div",rt,[t("div",nt,[t("h5",gt,[i(d,{to:{name:"blogDetails",params:{blogId:s.post3.id}},class:"text-gray"},{default:n(()=>[g(l(a.textCutter(s.post3.title,30)),1)]),_:1},8,["to"])]),t("p",mt,[i(d,{to:{name:"blogDetails",params:{blogId:s.post3.id}},class:"text-gray"},{default:n(()=>[g(l(a.textCutter(s.post3.content,110)),1)]),_:1},8,["to"])]),t("p",_t,[t("small",ht,l(a.formatDate(s.post3.createdAt)),1)])])]),t("div",ut,[i(d,{to:{name:"blogDetails",params:{blogId:s.post3.id}},class:"text-gray"},{default:n(()=>[t("img",{class:"card-img card-img-right banner-img-right",src:a.imagePathfixer(s.post3.images[0].imagePath),alt:"Card image"},null,8,pt)]),_:1},8,["to"])])])):m("",!0)])])]),t("div",bt,[t("div",ft,[s.postsLoaded?m("",!0):(o(),c("div",vt,[(o(),c(h,null,u(6,r=>t("div",xt,[i(x)])),64))])),s.postsLoaded?(o(),c("div",yt,[(o(!0),c(h,null,u(s.posts,(r,w)=>(o(),c("div",{class:"col-sm-12 col-md-6 col-lg-4 mb-4",key:w},[t("div",wt,[t("div",Pt,[i(y,{"img-list":r.images},null,8,["img-list"])]),t("div",It,[i(d,{to:{name:"blogDetails",params:{blogId:r.id}}},{default:n(()=>[t("h5",kt,l(a.textCutter(r.title,30)),1)]),_:2},1032,["to"]),(o(!0),c(h,null,u(s.categories,v=>(o(),c(h,null,[v.id===r.categoryId?(o(),c("span",Ct,l(v.name),1)):m("",!0)],64))),256)),i(d,{to:{name:"blogDetails",params:{blogId:r.id}}},{default:n(()=>[t("p",Dt,l(a.textCutter(r.content,100)),1)]),_:2},1032,["to"]),t("span",zt,[t("span",null,[Bt,g(" "+l(a.formatDate(r.createdAt)),1)]),i(d,{to:{name:"blogDetails",params:{blogId:r.id}}},{default:n(()=>[g(" Davomini o'qish -> ")]),_:2},1032,["to"])])])])]))),128))])):m("",!0)])])])])}const Ut=A(j,[["render",St],["__scopeId","data-v-ac6b1ac4"]]);export{Ut as default};
