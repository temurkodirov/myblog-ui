import{u as m,g as p,r as g,o as n,c as l,a as t,k as c,v as u,n as _,t as f,e as b,b as v,w as y}from"./index-BxNye9P6.js";import{u as k}from"./index-rtgCEYFi.js";import{c as d,r as w,e as x}from"./index-DdAual5n.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=s=>/[A-Z]/.test(s),B={name:"registerVerify",data(){return{auth:{ism:"",familiya:"Familiya",login:"",parol:""}}},setup(){const s=k(),e=m();return{v$:s,toast:e}},methods:{successToast(){this.toast.success("Muvaffaqiyatlik ro'yhatdan o'tdingiz",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},errorToast(){this.toast.error("Xatolik yuz berdi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},async registerUser(){if(this.v$.auth.$touch(),this.v$.auth.$invalid){window.scrollTo({top:0,behavior:"smooth"});return}const s={email:this.auth.login,code:this.auth.parol};try{const e=await p.post("auth/register/verify",s);e.status===200&&(localStorage.setItem("token",e.data.token),this.successToast(),this.$router.push("/"))}catch(e){console.error(e.message),this.errorToast()}}},async mounted(){this.auth.login=localStorage.getItem("tempMail")},validations:{auth:{login:{required:d.withMessage("Yozilishi shart",w),email:d.withMessage("Email manzilingiz noto'g'ri",x)}}}},C={class:"container-xxl"},T={class:"authentication-wrapper authentication-basic container-p-y"},O={class:"authentication-inner"},V={class:"card"},$={class:"card-body"},M=t("div",{class:"app-brand justify-content-center"},[t("span",{class:"app-brand-text demo text-body fw-bolder"},"MyBlog.uz")],-1),q=t("h4",{class:"mb-2"},'"Myblog.uz" ga Hush kelibsiz! ğŸ‘‹',-1),U=t("p",{class:"mb-2"},"Elektron pochtangizga tasdiqlash kodi jo'natildi",-1),H={class:"mb-2"},E=t("label",{for:"email",class:"form-label"},"Elektron pochta",-1),P={key:0,class:"invalid-input-text"},S={class:"mb-2"},F=t("label",{for:"username",class:"form-label"},"Tasdiqlash kodi",-1),N={class:"text-center"},j=t("span",{class:"me-2"},"Akkauntingiz bormi?",-1),A=t("span",null,"Sahifangizga kiring",-1);function D(s,e,I,i,a,r){const h=g("router-link");return n(),l("div",C,[t("div",T,[t("div",O,[t("div",V,[t("div",$,[M,q,U,t("div",H,[E,c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.auth.login=o),type:"email",class:_(["form-control",{"invalid-input":i.v$.auth.login.$error}]),disabled:"",id:"email",name:"email",placeholder:"example@mail.ru"},null,2),[[u,a.auth.login]]),i.v$.auth.login.$error?(n(),l("div",P,f(i.v$.auth.login.$errors[0].$message),1)):b("",!0)]),t("div",S,[F,c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.auth.parol=o),type:"number",class:"form-control",id:"username",name:"username",placeholder:"Tasdiqlash kodi",autofocus:""},null,512),[[u,a.auth.parol]])]),t("button",{onClick:e[2]||(e[2]=(...o)=>r.registerUser&&r.registerUser(...o)),class:"btn btn-primary d-grid w-100"},"Ro'yhatdan o'tish")]),t("p",N,[j,v(h,{to:"/auth/login"},{default:y(()=>[A]),_:1})])])])])])}const G=z(B,[["render",D]]);export{G as default,Z as upperCase};
