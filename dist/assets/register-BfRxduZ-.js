import{u as x,g as v,r as M,o as l,c as n,a as s,k as h,v as p,n as d,t as m,e as c,I as z,b as w,w as k}from"./index-BxNye9P6.js";import{u as P}from"./index-rtgCEYFi.js";import{c as a,r as g,m as f,a as _,e as C}from"./index-DdAual5n.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L=r=>/[A-Z]/.test(r),V={name:"register",data(){return{auth:{ism:"",familiya:"",login:"",parol:""},isJobsLoaded:!1,showPassword:!1,toasts:[]}},setup(){const r=P(),e=x();return{v$:r,toast:e}},methods:{successToast(){this.toast.success("Muvaffaqiyatlik ro'yhatdan o'tdingiz",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},errorToast(){this.toast.error("Xatolik yuz berdi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},togglePasswordVisibility(){this.showPassword=!this.showPassword},async registerUser(){if(this.v$.auth.$touch(),this.v$.auth.$invalid){window.scrollTo({top:0,behavior:"smooth"});return}const r={firstName:this.auth.ism,lastName:this.auth.familiya,email:this.auth.login,password:this.auth.parol};try{(await v.post("auth/register",r)).status===200&&(await v.post("auth/register/send-code?mail="+r.email)).status===200&&(localStorage.setItem("tempMail",r.email),this.$router.push("/auth/register-verify"))}catch(e){console.error(e.message),this.errorToast()}}},async mounted(){},validations:{auth:{ism:{required:a.withMessage("Yozilishi shart",g),minLength:a.withMessage("3 ta belgidan ko'p  bo'lishi kerak",f(3)),maxLength:a.withMessage("100 ta belgidan kam bo'lishi kerak",_(100))},familiya:{required:a.withMessage("Yozilishi shart",g),minLength:a.withMessage("3 ta belgidan ko'p  bo'lishi kerak",f(3)),maxLength:a.withMessage("100 ta belgidan kam bo'lishi kerak",_(100))},login:{required:a.withMessage("Yozilishi shart",g),email:a.withMessage("Email manzilingiz noto'g'ri",C)},parol:{required:a.withMessage("Yozilishi shart",g),minLength:a.withMessage("6 ta belgidan ko'p  bo'lishi kerak",f(6)),maxLength:a.withMessage("100 ta belgidan kam bo'lishi kerak",_(100)),upperCase:a.withMessage("Kamida bir dona katta harf ishtirok etishi kerak",L)}}}},B={class:"container-xxl"},O={class:"authentication-wrapper authentication-basic container-p-y"},U={class:"authentication-inner"},q={class:"card"},T={class:"card-body"},H=s("div",{class:"app-brand justify-content-center"},[s("span",{class:"app-brand-text demo text-body fw-bolder"},"MyBlog.uz")],-1),I=s("h4",{class:"mb-2"},'"Myblog.uz" ga Hush kelibsiz! ğŸ‘‹',-1),N=s("p",{class:"mb-2"},"Ro'yhatdan o'ting",-1),D={class:"mb-2"},Y=s("label",{for:"username",class:"form-label"},"Ism",-1),E={key:0,class:"invalid-input-text"},F={class:"mb-2"},S=s("label",{for:"username",class:"form-label"},"Familiya",-1),A={key:0,class:"invalid-input-text"},R={class:"mb-2"},j=s("label",{for:"email",class:"form-label"},"Elektron pochta",-1),J={key:0,class:"invalid-input-text"},K={class:"mb-3 form-password-toggle"},X=s("label",{class:"form-label",for:"password"},"Parol",-1),Z={class:"input-group input-group-merge"},G=["type"],Q={key:0,class:"invalid-input-text"},W={class:"text-center mb-0"},ss=s("span",{class:"me-2"},"Akkauntingiz bormi?",-1),es=s("span",null,"Sahifangizga kiring",-1),ts={class:"text-center"},as=s("span",null,"Ro'yhatdan o'tmasdan foydalanish",-1);function is(r,e,y,t,o,u){const b=M("router-link");return l(),n("div",B,[s("div",O,[s("div",U,[s("div",q,[s("div",T,[H,I,N,s("div",D,[Y,h(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o.auth.ism=i),type:"text",class:d(["form-control",{"invalid-input":t.v$.auth.ism.$error}]),id:"username",name:"username",placeholder:"Ismingizni kiriting",autofocus:""},null,2),[[p,o.auth.ism]]),t.v$.auth.ism.$error?(l(),n("div",E,m(t.v$.auth.ism.$errors[0].$message),1)):c("",!0)]),s("div",F,[S,h(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.auth.familiya=i),type:"text",class:d(["form-control",{"invalid-input":t.v$.auth.familiya.$error}]),id:"username",name:"username",placeholder:"Ismingizni kiriting",autofocus:""},null,2),[[p,o.auth.familiya]]),t.v$.auth.familiya.$error?(l(),n("div",A,m(t.v$.auth.familiya.$errors[0].$message),1)):c("",!0)]),s("div",R,[j,h(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.auth.login=i),type:"email",class:d(["form-control",{"invalid-input":t.v$.auth.login.$error}]),id:"email",name:"email",placeholder:"example@mail.ru"},null,2),[[p,o.auth.login]]),t.v$.auth.login.$error?(l(),n("div",J,m(t.v$.auth.login.$errors[0].$message),1)):c("",!0)]),s("div",K,[X,s("div",Z,[h(s("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>o.auth.parol=i),type:o.showPassword?"text":"password",id:"password",class:d(["form-control",{"invalid-input-password":t.v$.auth.parol.$error}]),name:"password",placeholder:"******","aria-describedby":"password"},null,10,G),[[z,o.auth.parol]]),s("span",{onClick:e[4]||(e[4]=(...i)=>u.togglePasswordVisibility&&u.togglePasswordVisibility(...i)),class:"input-group-text cursor-pointer"},[s("i",{class:d(o.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)]),t.v$.auth.parol.$error?(l(),n("div",Q,m(t.v$.auth.parol.$errors[0].$message),1)):c("",!0)])]),s("button",{onClick:e[5]||(e[5]=(...i)=>u.registerUser&&u.registerUser(...i)),class:"btn btn-primary d-grid w-100"},"Davom etish...")]),s("p",W,[ss,w(b,{to:"/auth/login"},{default:k(()=>[es]),_:1})]),s("p",ts,[w(b,{to:"/"},{default:k(()=>[as]),_:1})])])])])])}const ds=$(V,[["render",is]]);export{ds as default,L as upperCase};
